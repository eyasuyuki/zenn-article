---
title: "macOSã§å¹³æ—¥ã®å®šæ™‚ã«ãƒãƒ£ã‚¤ãƒ ã‚’é³´ã‚‰ã™æ–¹æ³•"
emoji: "ğŸ«"
type: "tech"
topics:
- "macOS"
- "cron"
- "afplay"
- "GarageBand"
- "Music"
published: true
published_at: "2024-02-26 13:00"
---

# macOSã®"æ™‚è¨ˆ"ã‚¢ãƒ—ãƒªã ã¨ã‚¢ãƒ©ãƒ¼ãƒ ãŒé³´ã‚Šæ­¢ã¾ãªã„

ã¿ãªã•ã‚“å®šæ™‚ã«ä½•ã‹éŸ³ã‚’é³´ã‚‰ã—ãŸã„å ´åˆã«ã©ã†ã—ã¦ã¾ã™ã‹?

ç§ã¯macOSã®"æ™‚è¨ˆ"ã‚¢ãƒ—ãƒª(Clock.app)ã‚’ä½¿ã£ã¦ã„ãŸã®ã§ã™ãŒã€æ­¢ã‚ã‚‹ã¾ã§éŸ³ãŒé³´ã‚Šæ­¢ã¾ãªã„ã®ã§å®¶æ—ã«ãŸã„ã¸ã‚“ä¸è©•ã§ã—ãŸã€‚

![](/images/macos-cron-sound/Clock_app.png)

æœˆã€œé‡‘ã®å®šæ™‚ã«1å›ã ã‘éŸ³ã‚’å†ç”Ÿã™ã‚‹ã‚¢ãƒ—ãƒªã‚’è‡ªä½œã—ã‚ˆã†ã‹ã¨ã‚‚è€ƒãˆãŸã®ã§ã™ãŒã€macOSã¯Unixäº’æ›OSãªã®ã§```cron```ãŒä½¿ãˆã‚‹ã˜ã‚ƒã‚“ã€ã¨æ°—ã¥ã„ãŸã®ã§ä»¥ä¸‹ã®æ–¹æ³•ã‚’ã‚„ã£ã¦ã¿ã¾ã—ãŸã€‚

# ãƒãƒ£ã‚¤ãƒ éŸ³ã‚’è‡ªä½œã™ã‚‹

ãƒ•ãƒªãƒ¼ç´ æã‚’ä½¿ã£ã¦ã‚‚è‰¯ã„ã®ã§ã™ãŒæ°—ã«å…¥ã£ãŸéŸ³ãŒãªã„ã®ã§è‡ªåˆ†ã§ä½œã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚

![](/images/macos-cron-sound/GarageBand.png)

å®Œæˆã—ãŸã‚‰```[å…±æœ‰]-[æ›²ã‚’"ãƒŸãƒ¥ãƒ¼ã‚¸ãƒƒã‚¯"ã«...]```ã§"ãƒŸãƒ¥ãƒ¼ã‚¸ãƒƒã‚¯"ã‚¢ãƒ—ãƒª(Music.app)ã«å…±æœ‰ã—ã¾ã™ã€‚

![](/images/macos-cron-sound/Share2Music.png)

ã‚¢ãƒ¼ãƒã‚¹ãƒˆåã‚„ã‚¢ãƒ«ãƒãƒ åã‚‚å…¥åŠ›ã—ã¦ãŠãã¾ã™ã€‚ã“ã‚Œã¯å…±æœ‰å¾Œã®æ¥½æ›²ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹åã¨ã—ã¦ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚

![](/images/macos-cron-sound/Music.png)

Music.appå´ã§å†ç”Ÿã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã—ãŸã‚‰ã€æ›²åã®å³ç«¯ã®```[â€¦]```ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

![](/images/macos-cron-sound/Music_about.png)

ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰```[æƒ…å ±ã‚’è¦‹ã‚‹]```ã‚’é¸æŠã—ã¾ã™ã€‚æ›²ã®æƒ…å ±ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã®```[ãƒ•ã‚¡ã‚¤ãƒ«]```ã‚¿ãƒ–ã§æ¥½æ›²ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ•ãƒ«ãƒ‘ã‚¹ã‚’ç¢ºèªã—ã¦ãŠãã¾ã™ã€‚

![](/images/macos-cron-sound/Music_path.png)


ã“ã®æ›²ã®ãƒ•ãƒ«ãƒ‘ã‚¹ã¯ä»¥ä¸‹ã§ã‚ã‚‹ã“ã¨ãŒç¢ºèªã§ãã¾ã—ãŸã€‚

```shell
/Users/yasuyuki/Music/iTunes/iTunes\ Music/Music/Yasuyuki\ ENDO/School\ Sounds/Chime.m4a
```

# ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§éŸ³ã‚’é³´ã‚‰ã™

macOSã«ã¯```afplay```ã¨ã„ã†ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒæœ€åˆã‹ã‚‰å­˜åœ¨ã™ã‚‹ã®ã§ã“ã‚Œã§éŸ³ã‚’é³´ã‚‰ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```shell
/usr/bin/afplay /Users/yasuyuki/Music/iTunes/iTunes\ Music/Music/Yasuyuki\ ENDO/School\ Sounds/Chime.m4a
```

ã“ã‚Œã‚’å®Ÿè¡Œã™ã‚‹ã¨1å›ã ã‘å†ç”Ÿã—ã¦éŸ³ãŒæ­¢ã¾ã‚‹ã“ã¨ãŒç¢ºèªã§ãã¾ã—ãŸã€‚ã“ã‚Œã‚’```cron```ã§å®Ÿè¡Œã™ã‚Œã°è‰¯ã•ãã†ã§ã™ã€‚

# ```crontab```ã®ç¢ºèªã¨è¨­å®š

ã¾ãšãƒ­ã‚°ã‚¤ãƒ³ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç¾åœ¨ã®```crontab```ã‚’ç¢ºèªã—ã¦ãŠãã¾ã™ã€‚

```shell
crontab -l
```

ä½•ã‚‚è¡¨ç¤ºã•ã‚Œãªã‘ã‚Œã°ç¾åœ¨ã®```crontab```ã¯ç©ºã§ã™ã€‚ä½•ã‹è¡¨ç¤ºã•ã‚ŒãŸã‚‰ãƒ•ã‚¡ã‚¤ãƒ«ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã—ã¦ä¿å­˜ã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚ã“ã“ã§ã¯ãƒ›ãƒ¼ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«```etc```ã¨ã„ã†ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã£ã¦```~/etc/crontab```ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ã™ã‚‹ã“ã¨ã«ã—ã¾ã™ã€‚

```shell
crontab -l > ~/etc/crontab
```

crontabã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¯ä»¥ä¸‹ã®ä»•æ§˜ã«ãªã£ã¦ã„ã¾ã™ã€‚

```shell
åˆ† æ™‚ æ—¥ æœˆ æ›œæ—¥ ã‚³ãƒãƒ³ãƒ‰
```

æœˆæ›œã‹ã‚‰é‡‘æ›œã®8:45ã¨13:00ã¨17:30ã«ãƒãƒ£ã‚¤ãƒ ã‚’é³´ã‚‰ã—ãŸã„å ´åˆã®```crontab```ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚

```shell
45 8 * * 1,2,3,4,5 /usr/bin/afplay /Users/yasuyuki/Music/iTunes/iTunes\ Music/Music/Yasuyuki\ ENDO/School\ Sounds/Chime.m4a
0 13 * * 1,2,3,4,5 /usr/bin/afplay /Users/yasuyuki/Music/iTunes/iTunes\ Music/Music/Yasuyuki\ ENDO/School\ Sounds/Chime.m4a
30 17 * * 1,2,3,4,5 /usr/bin/afplay /Users/yasuyuki/Music/iTunes/iTunes\ Music/Music/Yasuyuki\ ENDO/School\ Sounds/Chime.m4a
```

ãƒ­ã‚°ã‚¤ãƒ³ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®```crontab```ã«ã™ã§ã«ä½•ã‹è¨­å®šãŒã‚ã‚‹å ´åˆã¯```~/etc/crontab```ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¸Šè¨˜ã‚’è¿½åŠ ã—ã€ä½•ã‚‚è¨­å®šãŒãªã„å ´åˆã«ã¯ä¸Šè¨˜å†…å®¹ã‚’```~/etc/crontab```ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä¿å­˜ã—ã¾ã™ã€‚

ã§ã¯```crontab```ã‚³ãƒãƒ³ãƒ‰ã§ã“ã®è¨­å®šã‚’æœ‰åŠ¹åŒ–ã—ã¾ã—ã‚‡ã†ã€‚

```shell
crontab < ~/etc/crontab
```

è¨­å®šãŒåæ˜ ã•ã‚ŒãŸã‹```crontab -l```ã§ç¢ºèªã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚ã“ã‚Œã§å¹³æ—¥ã®å®šæ™‚ã«éŸ³ã‚’é³´ã‚‰ã™è¨­å®šã¯å®Œäº†ã§ã™ã€‚ã‚ã¨ã¯ãã®æ™‚é–“ã«ãªã£ãŸã‚‰ãƒãƒ£ã‚¤ãƒ éŸ³ãŒé³´ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚



