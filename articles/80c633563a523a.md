---
title: "marp-cliã®ã‚¹ãƒ©ã‚¤ãƒ‰ã«PlantUMLã‚’åŸ‹ã‚è¾¼ã‚€"
emoji: "ğŸ“ƒ"
type: "tech"
topics:
  - "markdown"
  - "plantuml"
  - "uml"
  - "ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³"
  - "marp"
published: true
published_at: "2022-11-30 16:49"
---

# marp-cliã§ä½œã£ãŸãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³è³‡æ–™ã«UMLã‚’åŸ‹ã‚è¾¼ã¿ãŸã„

Markdownã§ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³è³‡æ–™ã‚’æ›¸ã„ã¦marp-cliã§HTMLã«å¤‰æ›ã—ã¦ã„ã¾ã™ã€‚ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³ãªã©ã®UMLã‚’marp-cliã®ã‚¹ãƒ©ã‚¤ãƒ‰ã«åŸ‹ã‚è¾¼ã‚€æ–¹æ³•ã¨ã—ã¦ã¯JavaScriptã§Mermaid.jsã‚’åŸ‹ã‚è¾¼ã‚€æ–¹æ³•ã‚‚ã‚ã‚Šã¾ã™ãŒã€Mermaid.jsã¯ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å›³ã«å¯¾å¿œã—ã¦ã„ãªã„ãªã©ã€PlantUMLã‚’åŸ‹ã‚è¾¼ã¿ãŸã„å ´åˆãŒã‚ã‚Šã¾ã™ã€‚

marp-cliã¯ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§æ‹¡å¼µã§ãã¾ã™ã€‚```marp.config.js```ã«è¨­å®šã‚’æ›¸ãã“ã¨ã§Markdownä¸­ã«PlantUMLã®å›³ã‚’åŸ‹ã‚è¾¼ã‚€ã“ã¨ãŒã§ãã¾ã™ã€‚

# ```marp-cli```ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ã¾ãš```marp-cli```ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

```
npm install --save-dev @marp-team/marp-cli
```

# ```markdown-it-plantuml```ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ã¤ãã«```markdown-it-plantuml```ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

```
npm install markdown-it-plantuml
```

# ```marp.config.js```ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›¸ã

ã“ã‚ŒãŒè‚å¿ƒã®ä½œæ¥­ã§ã™ã€‚ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’```marp.config.js```ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä¿å­˜ã—ã¦ãã ã•ã„ã€‚

```JavaScript
const { Marp } = require('@marp-team/marp-core')

module.exports = {
    engine: opts => new Marp(opts).use(require('markdown-it-plantuml'))
}
```

# Markdownã§ã‚¹ãƒ©ã‚¤ãƒ‰ã‚’æ›¸ã

ã‚ã¨ã¯Markdownã§ã‚¹ãƒ©ã‚¤ãƒ‰ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚

```
å¹»ã®ãƒ†ã‚¹ãƒˆæŠ€æ³•ã€Œã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰é§†å‹•ãƒ†ã‚¹ãƒˆã€ã‚’è¿½ã„æ±‚ã‚ã¦
====

2022-12-03 [@eyasuyuki](https://twitter.com/eyasuyuki)

<!-- paginate: true -->

---
(ä»¥ä¸‹ç•¥)
```

-(ãƒã‚¤ãƒ•ãƒ³)ãŒ3ã¤ç¶šã„ãŸè¡ŒãŒã‚¹ãƒ©ã‚¤ãƒ‰ã®æ”¹ãƒšãƒ¼ã‚¸ã§ã™ã€‚

# Markdownã«PlantUMLã‚’åŸ‹ã‚è¾¼ã‚€

PlantUMLã®åŸ‹ã‚è¾¼ã¿ã¯ã“ã‚“ãªæ„Ÿã˜ã§æ›¸ã‘ã¾ã™ã€‚

```
---

# å‹•ä½œæ¦‚å¿µå›³

@startuml
    Keydriver ->> POI: Excelãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿
    POI ->> Excel: èª­ã¿è¾¼ã¿
    Excel ->> POI: ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ¼ãƒˆ
    POI ->> Keydriver: ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ¼ãƒˆ
    Keydriver ->> WebDriver: ãƒ–ãƒ©ã‚¦ã‚¶æ“ä½œ
    WebDriver ->> ãƒ–ãƒ©ã‚¦ã‚¶: ãƒ–ãƒ©ã‚¦ã‚¶æ“ä½œ
    ãƒ–ãƒ©ã‚¦ã‚¶ ->> WebDriver: ãƒ–ãƒ©ã‚¦ã‚ºçµæœ
    WebDriver ->> Keydriver: ãƒ–ãƒ©ã‚¦ã‚ºçµæœ
    Keydriver ->> Keydriver: çµæœæ¤œè¨¼
    Keydriver ->> POI: ãƒ†ã‚¹ãƒˆçµæœå‡ºåŠ›
    POI ->> Excel: ãƒ†ã‚¹ãƒˆçµæœå‡ºåŠ›
@enduml

---
```

Markdownä¸­ã«ãã®ã¾ã¾PlantUMLã®ã‚³ãƒ¼ãƒ‰ãŒæ›¸ã‘ã¾ã™ã€‚

```mermaid
sequenceDiagram
    Keydriver ->> POI: Excelãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿
    POI ->> Excel: èª­ã¿è¾¼ã¿
    Excel ->> POI: ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ¼ãƒˆ
    POI ->> Keydriver: ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ¼ãƒˆ
    Keydriver ->> WebDriver: ãƒ–ãƒ©ã‚¦ã‚¶æ“ä½œ
    WebDriver ->> ãƒ–ãƒ©ã‚¦ã‚¶: ãƒ–ãƒ©ã‚¦ã‚¶æ“ä½œ
    ãƒ–ãƒ©ã‚¦ã‚¶ ->> WebDriver: ãƒ–ãƒ©ã‚¦ã‚ºçµæœ
    WebDriver ->> Keydriver: ãƒ–ãƒ©ã‚¦ã‚ºçµæœ
    Keydriver ->> Keydriver: çµæœæ¤œè¨¼
    Keydriver ->> POI: ãƒ†ã‚¹ãƒˆçµæœå‡ºåŠ›
    POI ->> Excel: ãƒ†ã‚¹ãƒˆçµæœå‡ºåŠ›
```

 # HTMLã«å¤‰æ›ã™ã‚‹
 
 ```
 npx @marp-team/marp-cli --theme <CSSãƒ•ã‚¡ã‚¤ãƒ«> <Markdownãƒ•ã‚¡ã‚¤ãƒ«> --html
 ```
 
 PlantUMLã®éƒ¨åˆ†ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«å¤‰æ›ã•ã‚Œã¦ã„ã¾ã™ã€‚
 
 ```
 <img src="https://www.plantuml.com/plantuml/svg/SoWkIImgAStDuL800k_KofIYpBBK8WLTEpk507zFAmNNYkJKdCVDKnytBNpSjEHny-eNgzO-Rjp_OjyU80dM15G6LWvMQQM08GyMHnZuk7dzu-OzZvlMFsxQ3c8qTw2O0dS2JfMeZWnFJNA1gv_sk7dbuwPbZvksFPlS-sJl7B1wk0gmUcH5EBKW2-EnPTVphHEUpSDc2ueliAf7zGMIUeYQPqlcl5Yn1rUaF6vkUzoq4nWW4CLFstSzxPgDBJAmAtH8pKi1HZa0" alt="uml diagram">
```

ä»Šå›ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ä¸€å¼ã¯ä»¥ä¸‹ã§å…¬é–‹ã—ã¦ã„ã¾ã™ã€‚

[https://github.com/eyasuyuki/keydriver-lightning-talk](https://github.com/eyasuyuki/keydriver-lightning-talk)

Mermaid.jsã‚ˆã‚Šã‚‚å¤šãã®å½¢å¼ã®å›³ãŒæã‘ã‚‹ã®ã§ä½¿ã£ã¦ã¿ã¦ã¯ã„ã‹ãŒã§ã—ã‚‡ã†ã‹ã€‚

